var replaceAll,GetExtentsion;top.myMessageBox=null;replaceAll=function(n,t,i){while(i.indexOf(n)>-1)i=i.replace(n,t);return i};top.resizecolumn=function(n,t){window.setTimeout(function(){var r,f=window[0].Ext.getCmp(n),e,u,h,i,s,o;if(f){for(f.setLoading(!1,!1),r=parseFloat(Ext.net.Version)>4.1?f.query("gridcolumn:not([hidden])"):f.getColumns(),f.setLoading(!0,!1),t=replaceAll(" ","",t),e=t.split(","),e==null&&(e=[]),u=[],i=0;i<r.length;i++)h=r[i].dataIndex,Ext.Array.indexOf(e,h)==-1&&r[i].autoSize(),r[i].items.length>0&&u.push(i);if(parseFloat(Ext.net.Version)>4.1)for(i=0;i<u.length;i++){for(s=0,o=0;o<r[u[i]].items.length;o++)s+=r[u[i]].items.items[o].width;r[u[i]].width=s;r[u[i]].hide();r[u[i]].show()}f.setLoading(!1,!1)}},50)};top.configAutoResize=function(n,t){setTimeout(function(){var i=n.down("pagingtoolbar"),r=n.store;if(r!=null)r.on("dataChanged",function(){top.resizecolumn(n,t)});if(i!=null)i.on("change",function(){top.resizecolumn(n,t)});else top.resizecolumn(n,t)},0)};top.configBlurCombobox=function(n){n.on("Blur",function(n){var i=0,t;n.getStore().each(function(r){r.get(n.valueField)==n.getValue()&&i++;r.get(n.displayField)==n.getRawValue()&&(t=r)});i==0&&(n.setActiveError("Invalid Values"),n.data=!1);typeof t!="undefined"&&(n.data=!0,n.select(t),n.clearInvalid())});n.validator=function(){return this.data!=!1?!0:!1}};top.configDateField=function(n){n.on("Change",function(n){n.data=n.rawValue});n.on("Blur",function(n){var i=n.data,t,r;if(typeof i!="undefined"){if(i.length!=10){n.setActiveError("");return}t=i.split("/");r=new Date(parseInt(t[2]),parseInt(t[1])-1,parseInt(t[0]));parseInt(t[1])!=r.getMonth()+1?(n.setRawValue(n.data),n.setActiveError("")):n.unsetActiveError()}});n.validator=function(){var i=this.rawValue,n,t;return this.rawValue.length!=10?"":(n=i.split("/"),t=new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0])),parseInt(n[1])!=t.getMonth()+1)?"DateField have an invalid value":!0}};top.configLimitPosition=function(n,t,i,r,u){n.on("move",function(n,f,e){var l=n.getHeight(),a=n.getWidth(),o=0,s=0,h,c;n.id=="WinDetails"?(h=$("body")[0],o=h.clientHeight,s=h.clientWidth):(c=$("#pnlCenter-body"),o=c.clientHeight,s=c.clientWidth);e<0&&t=="True"&&n.setPosition(f,20);f<0&&i=="True"&&n.setPosition(20,e);f+a>s&&r=="True"&&n.setPosition(s-a-20,e);e+l>o&&u=="True"&&n.setPosition(f,o-l-20)})};top.getPageLangById=function(n,t){for(var i=0;i<n.length;i++)if(n[i].key==t)return n[i].value};top.getCommonLangById=function(n){return top.getLanguageById(top.CommonLang,n)};top.searchTemplate=function(n){alert(n)};top.callAjax=function(n){Ext.net.DirectMethod.request({url:n.url,cleanRequest:!0,json:!0,params:n.params,failure:function(t){n.failure!=null&&n.failure.call(this,t)},success:function(t){n.success!=null&&n.success.call(this,t)}})};top.checkUploadConnection=function(n,t,i){top.callAjax({url:"/Core/DocMgmt/Services/UploadService.ashx/CheckNetworkConnection",cleanRequest:!0,json:!1,timeout:5e3,success:function(i){try{var r=JSON.parse(i);r==1?t!=null?t.call(this,r):alert("Network: OK, File server: OK"):r==0&&(n!=null?n.call(this,r):alert("Network: OK, File server: Fail"))}catch(u){alert("Network: OK, Permission: Fail. "+u.message)}},failure:function(n){i!=null?i.call(this,n):alert("Net work error")}},!0)};top.hidemessage=function(){top.myMessageBox.hide()};top.ShowMessage=function(n,t,i){var r;switch(i){case"i":r=Ext.MessageBox.INFO;break;case"e":r=Ext.MessageBox.ERROR;break;case"w":r=Ext.MessageBox.WARNING;break;default:r=Ext.MessageBox.INFO}top.myMessageBox=Ext.MessageBox.show({title:n,msg:t,buttons:Ext.MessageBox.OK,icon:r})};top.ShowMessageFunc=function(n,t,i,r){var u;switch(i){case"i":u=Ext.MessageBox.INFO;break;case"e":u=Ext.MessageBox.ERROR;break;case"w":u=Ext.MessageBox.WARNING;break;default:u=Ext.MessageBox.INFO}myMessageBox=Ext.MessageBox.show({title:n,msg:t,buttons:Ext.MessageBox.OK,icon:u,fn:r})};GetExtentsion=function(n){for(var i=-1,r=n.length,t=0;t<r;t++)n[t]=="."&&(i=t);return n.substring(i+1,r).toUpperCase()};top.loadJsCssFile=function(n){var i=GetExtentsion(n),t;i=="JS"?(t=document.createElement("script"),t.setAttribute("type","text/javascript"),t.setAttribute("src",n+"?build="+top.build)):i=="CSS"&&(t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",n+"?build="+top.build));typeof t!="undefined"&&document.getElementsByTagName("head")[0].appendChild(t)};top.messageStack=[];top.functionStack=[];top.showingMessage=!1;top.CheckShowingMessage=function(){var n=jQuery("[id^=messagebox-]");return!n.length||n.eq(0).hasClass("x-hidden")||n.eq(0).hasClass("x-hide-offsets")?!1:!0};top.ShowMessageStack=function(n,t,i,r,u){if(top.functionStack.push(u),top.messageStack.push({title:n,msg:t,buttons:i,fn:function(n){top.DoMessageStack(n)},icon:r}),!top.CheckShowingMessage()&&top.messageStack&&top.messageStack.length>0){top.showingMessage=!0;var f=top.messageStack.shift();Ext.Msg.show(f)}};top.ShowMessageStackWarning=function(n,t,i){var r;switch(i){case"i":r=Ext.MessageBox.INFO;break;case"e":r=Ext.MessageBox.ERROR;break;case"w":r=Ext.MessageBox.WARNING;break;default:r=i?i:Ext.MessageBox.INFO}top.ShowMessageStack(n,t,Ext.Msg.OK,r,null)};top.ShowMessageStackAlert=function(n,t){top.ShowMessageStack(n,t,Ext.Msg.OK,Ext.MessageBox.WARNING,null)};top.DoMessageStack=function(n){var t=top.functionStack.shift(),i;t&&t(n);top.messageStack&&top.messageStack.length>0?(top.showingMessage=!0,i=top.messageStack.shift(),Ext.Msg.show(i)):top.showingMessage=!1};top.formatJson=function(n){var t,i,u,f;if(!n)return"";typeof n=="string"&&(n=JSON.parse(n));t={};for(i in n)if(n.hasOwnProperty(i)){var o=n[i],r=i.split("."),e=r.length;if(e>1){for(u=t[r[0]]||{},f=1;f<e-1;f++)u=u[r[f]]||{};u[r[e-1]]=o;t[r[0]]=u}else t[i]=o}return t};top.selectNumericChar=function(n,t){var e=["0","1","2","3","4","5","6","7","8","9"],f,u,i,r;if(t=t||[],n&&typeof n=="string"){for(f=n.length,u="",i=0;i<f;i++)r=n[i],(r in e||r in t)&&(u+=r);return u}return""};top.checkcontainer=function(n){var t=n,f,r,u;if(!t||t==""||t.length!=11)return!1;if(t=t.toUpperCase(),f=/^[A-Z]{4}\d{7}/,f.test(t)){for(r=0,i=0;i<10;i++)u=t.substr(i,1),i<4&&(u="0123456789A?BCDEFGHIJK?LMNOPQRSTU?VWXYZ".indexOf(t.substr(i,1))),u*=Math.pow(2,i),r+=u;return t.substr(0,4)=="HLCU"&&(r-=2),r%=11,r%=10,r==t.substr(10)}return!1};top.comboboxComlumnRenderer=function(n,t,i){var r=t.getById(n);return r!=null?r.get(i):n};